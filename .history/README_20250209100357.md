# Quantitative Trading Engine

A state-of-the-art quantitative trading engine demonstrating a modular, scalable, and highly optimized architecture designed for production-grade performance and extensibility. Built with industry best practices, this engine integrates advanced risk analytics, multiple data providers, and a variety of trading strategies.

## Features

- **Data Caching:** Efficient market data retrieval and local storage using SQLite
- **Abstract Strategy Pattern:** Easily extendable framework to add new trading strategies
- **Concurrent Backtesting:** Runs multiple strategies in parallel using Python's ThreadPoolExecutor
- **Advanced Risk Analysis:** Computes Sharpe Ratio, Sortino Ratio, Maximum Drawdown, Value at Risk (VaR), Conditional VaR (CVaR), and Beta
- **Utility Decorators & Logging:** Built-in execution time measurement and comprehensive logging for observability
- **Multiple Data Providers:** Supports both Yahoo Finance (via API) and CSV-based data sources
- **Advanced Strategies:** Includes Momentum and Mean Reversion strategies, with a clear path for integrating additional methods
- **Clean, Modular Code:** Adheres to SOLID principles to ensure maintainability and extensibility

## Project Structure

```
quant_trading_project/
├── config/
│   └── settings.py
├── data/
│   └── market_data.db       # (Generated automatically)
├── src/
│   ├── core/
│   │   ├── backtesting_engine.py
│   │   ├── data_provider.py
│   │   ├── csv_data_provider.py   # New CSV-based data provider
│   │   ├── risk_engine.py         # Enhanced risk metrics (CVaR, Beta)
│   │   └── models.py
│   ├── strategies/
│   │   ├── base_strategy.py
│   │   ├── momentum_strategy.py
│   │   └── mean_reversion_strategy.py   # New Mean Reversion strategy
│   └── utils/
│       ├── logger.py
│       └── decorators.py
├── main.py
├── requirements.txt
└── README.md
```

## Setup Instructions

### 1. Clone the Repository

```bash
git clone https://github.com/ryannapp12/quant_trading_project.git
cd quant_trading_project
```

### 2. Create and Activate a Virtual Environment

```bash
python -m venv venv

# On Windows:
venv\Scripts\activate

# On macOS/Linux:
source venv/bin/activate
```

### 3. Install Dependencies

```bash
pip install -r requirements.txt
```

### 4. Open the Project in VSCode

- Open VSCode and select File > Open Folder… to open the quant_trading_project folder
- (Optional) Create a .vscode folder with the following configuration files:

```json
// .vscode/launch.json
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python: Run main.py",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/main.py",
            "console": "integratedTerminal"
        }
    ]
}

// .vscode/settings.json
{
    "python.pythonPath": "venv/bin/python", // Adjust for Windows if necessary
    "python.linting.enabled": true,
    "python.linting.pylintEnabled": true,
    "python.formatting.provider": "autopep8",
    "editor.formatOnSave": true
}

// .vscode/tasks.json
{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Run main.py",
            "type": "shell",
            "command": "python main.py",
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": []
        }
    ]
}
```

### 5. Run the Project

```bash
python main.py
```

## Extending the Project

The architecture is built to be extended and enhanced with minimal friction. Key extension points include:

### Add New Strategies

- Create additional strategy modules in `src/strategies/` by inheriting from `BaseStrategy`
- Example: Add a new algorithm such as a trend-following or machine learning-based strategy

### Enhance Risk Metrics

- Extend `RiskEngine` in `src/core/risk_engine.py` with further analytical metrics
- Examples:
  - Conditional VaR (CVaR): Average losses beyond the VaR threshold
  - Beta: Measure the strategy's sensitivity relative to a benchmark
  - Other Metrics: Integrate Monte Carlo simulations or drawdown recovery metrics

### Improve Data Handling

- Customize `YahooDataProvider` or add new providers by implementing the `DataProvider` interface
- Examples:
  - `CSVDataProvider`: Supports importing historical data from CSV files
  - Additional APIs: Integrate other data sources (Bloomberg, Interactive Brokers) for enhanced market data

## Additional Notes

### SQLite Database
The database file (`data/market_data.db`) is generated automatically when you run the project. You do not need to create it manually.

### Extensibility
The modular design allows you to add new strategies, extend risk metrics, or swap out data providers without modifying the core engine.

### Performance & Observability
Concurrency in the backtesting engine, custom decorators for timing, and robust logging ensure the project is both high-performing and fully observable, making it production-ready.

---